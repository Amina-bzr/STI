{% extends "base.html" %}
{% load static %}
{% block title %} statistiques {% endblock %}
    <!-- Custom styles for this template -->
   
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <link href="{% static 'style.css' %}" rel="stylesheet"> 
  {% block js %}
  <!--chartjs CDN-->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
  <script src="{% static 'lib/chart-master/Chart.js' %}"></script>
  <script src="{% static 'lib/sparkline-chart.js' %}"></script>
  <script src="{% static 'lib/zabuto_calendar.js' %}"></script>
  

  {% endblock %}
  
{% block content %}
    <!-- =======================================================
        Template Name: Dashio
        Template URL: https://templatemag.com/dashio-bootstrap-admin-template/
        Author: TemplateMag.com
        License: https://templatemag.com/license/
    ======================================================= -->
   

  
   
        
        <!-- **********************************************************************************************************************************************************
            MAIN CONTENT
            *********************************************************************************************************************************************************** -->
        <!--main content start-->
        <!-- <section id="main-content"> -->
           
            <section  style="margin-left:10px;">
        <section class="wrapper">
            <div class="row">
            <div class="col-lg-9 main-chart">
                <!--CUSTOM CHART START -->
                <div class="border-head">
                <h3>Nombre de ports dans chaque VLAN</h3>
                </div>
                <canvas id="Chars" style="width:100;height:100;"></canvas>
                    <script>
                    var ctx = document.getElementById('Chars').getContext('2d');
                    var Chars = new Chart(ctx, {
                        type: 'bar',
                        data: {
                           
                        labels:{{labels1|safe}},
                        datasets: [{
                        axis: 'y',
                        label: 'Nombre de ports',
                        data: {{data1|safe}},
                        fill: false,
                                backgroundColor: [
                                'rgba(255, 99, 132, 0.6)',
                                'rgba(255, 159, 64, 0.6)',
                                'rgba(255, 205, 86, 0.6)',
                                'rgba(75, 192, 192, 0.6)',
                                'rgba(54, 162, 235, 0.6)',
                                'rgba(153, 102, 255, 0.6)',
                                'rgba(201, 203, 207, 0.6)'
                                ],
                                borderColor: [
                                'rgb(255, 99, 132)',
                                'rgb(255, 159, 64)',
                                'rgb(255, 205, 86)',
                                'rgb(75, 192, 192)',
                                'rgb(54, 162, 235)',
                                'rgb(153, 102, 255)',
                                'rgb(201, 203, 207)'
                                ],
                                borderWidth: 1
                            }]
                        },
                        options: {
                                             
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                                
                            }
                        }
                    });
                    </script>
                <!--custom chart end-->
                <div class="row mt">
                <!-- SERVER STATUS PANELS -->
                <div class="col-md-4 col-sm-4 mb">
                    <div class="green-panel pn" >
                    <div class="green-header">
                        <h5>ETATS SWITCHS</h5>
                    </div>
                    <canvas id="char" width="120" height="120" ></canvas>
                    <script>
                    var ctx = document.getElementById('char').getContext('2d');
                    var char = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: [
                            'Défectueux',   
                            'Passif',
                            'Reformé',
                            'Actif'
                            
                        ],
                        datasets: [{
                            label: 'My First Dataset',
                            data: {{data4|safe}},
                            backgroundColor: [
                            'rgb(201, 203, 207)',  
                            'rgb(255, 205, 86)',
                            'rgb(255, 99, 132)',
                            'rgb(54, 162, 235)',
                            ],
                            hoverOffset: 4
                                        }]
                                    },
                                    options:{
                                    responsive: true,
                                    }
                                    
                                });
                </script>
                        
                    </div>
                    <!-- /grey-panel -->
                 </div>
               
                <!-- /col-md-4-->
                <div class="col-md-4 col-sm-4 mb">
                    <div class="grey-panel pn">
                    <div class="grey-header">
                        <h5 >ETATS PORTS</h5>
                    </div>
                    <canvas id="charts" width="120" height="120" ></canvas>
                    <script>
                    var ctx = document.getElementById('charts').getContext('2d');
                    var charts = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: [
                            'Defectueux',
                            'Utilisé',
                            'Non_utilisé'
                        ],
                        datasets: [{
                            label: 'My First Dataset',
                            data: {{data2|safe}},
                            backgroundColor: [
                            'rgb(255, 99, 132)',
                            'rgb(54, 162, 235)',
                            'rgb(255, 205, 86)'
                            ],
                            hoverOffset: 4
                                        }]
                                    },
                                    options:{
                                    responsive: true,
                                    }
                                    
                                });
                </script>
                    
                    
                    </div>
                    <!--  /darkblue panel -->
                </div>
                <!-- /col-md-4 -->
               
                <div class="col-md-4 col-sm-4 mb">
                    <div class="blue-panel pn">
                    <div class="blue-header">
                        <h5 class="centered" >TYPES PORTS</h5>
                    </div>
                    
                    <canvas id="chart" width="120" height="120"></canvas>
                    <script>
                    var ctx = document.getElementById('chart').getContext('2d');
                    var chart = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: [
                            'Type FE',
                            'Type GE',
                            'Type SFP'
                        ],
                        datasets: [{
                            label: 'My First Dataset',
                            data: {{data3|safe}},
                            backgroundColor: [
                            'rgb(255, 99, 132)',
                            'rgb(54, 162, 235)',
                            'rgb(255, 205, 86)'
                            ],
                            hoverOffset: 4
                                        }]
                                    },
                                    options:{
                                    responsive: true,
                                    }
                                    
                                });
                </script>
                    
                    </div>
                </div>
               
                
                
                </div>
                
                
                
                
             
                <!-- /row -->
            </div>
            <!-- /col-lg-9 END SECTION MIDDLE -->
            <!-- **********************************************************************************************************************************************************
                RIGHT SIDEBAR CONTENT
                *********************************************************************************************************************************************************** -->
            <div class="col-lg-3 ds" >
                <div class="border-head">
                    <h3>Nombre de Switchs dans chaque Bloc</h3>
                    </div>
                <div>
                 <!--COMPLETED ACTIONS DONUTS CHART-->
                  <canvas id="myChart" width="100" height="100"></canvas>
                    <script>
                    var ctx = document.getElementById('myChart').getContext('2d');
                    var myChart = new Chart(ctx, {
                        type: 'pie',
                        data: {
                           
                        labels: {{labels5|safe}},
                     datasets: [{
                     label: 'My First Dataset',
                     data: {{data5|safe}},
                     backgroundColor: [
                     'rgb(255, 99, 132)',
                     'rgb(54, 162, 235)',
                     'rgb(255, 205, 86)',
                     'rgba(75, 192, 192)',
                     'rgba(157, 152, 245)',
                     'rgba(153, 102, 255)',
                     'rgba(201, 203, 207)'
                     ],
                     hoverOffset: 4
                            }]
                        },
                        
                    });
                    </script>
                </div>
                <!-- RECENT ACTIVITIES SECTION -->
               
                <h4 class="centered mt">Activité Résente</h4>
                <!-- First Activity -->
                {% for activité in historique %}
                <div class="desc">
                    <div class="thumb">
                        <span class="badge bg-theme"><i class="fa fa-clock-o"></i></span>
                    </div>
                    <div class="details">
                        <p>
                        <span>{{activité.date}}</span>
                        <br/>
                        <a href="#">{{activité.username}}</a> {{activité.action}} <br/>
                        </p>
                    </div>
                </div>
                {% endfor %}

                <a href="{% url 'app_principal:historique' %}" style="display: flex;align-items:center;justify-content:center;padding:15px;border: 1px solid green;">Voir Plus</a>
              
            </div>
            <!-- /col-lg-3 -->
            </div>
            <!-- /row -->
        </section>
        </section>
    </section>
    
        
        
       
    

    
 
    {% endblock %}
   